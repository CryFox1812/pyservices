# Тренировка по поиску багов/уязвимостей на FastAPI

Этот репозиторий содержит код FastAPI-приложения, которое может быть использовано для тренировки по поиску уязвимостей. Приложение предоставляет простой API для управления пользователями. Вы можете использовать этот репозиторий для практики поиска уязвимостей в веб-приложениях на FastAPI.

## Установка и запуск

Для установки и запуска приложения выполните следующие шаги:

1. Убедитесь, что у вас установлен [Docker](https://www.docker.com/) и [docker-compose](https://docs.docker.com/compose/).

2. Клонируйте этот репозиторий на вашем компьютере:

    ```bash
    git clone https://github.com/homaderaka/pyservices
    ```

3. Перейдите в каталог с репозиторием:

    ```bash
    cd pyservices
    ```

4. Запустите приложение с помощью `docker-compose`:

    ```bash
    docker-compose up --build
    ```

Приложение будет запущено и будет доступно по адресу [http://localhost:8000](http://localhost:8000). Документация API будет доступна по адресу [http://localhost:8000/docs](http://localhost:8000/docs).

## Баги

### 1. Создание нового [аккаунта] пользователя

При создании нового пользователя на /user/create с уже существующим именем в базе данных, его индекс обновляется, возвращается статус ответа 200 - ОК. Вместо этого должна возвращаться ошибка 409 (Конфликт).

### 2. Обновление данных [аккаунта] пользователя 

При обновлении данных пользователя на /user/update/{username} всегда возвращает статус ответа 200 - ОК, не изменяя данные.

### 3. Удаление данных [аккаунта] пользователя 

При удалении несуществующего [аккаунта] пользователя на /user/delete/id/{id} возвращается статус ответа 200 - ОК. Должен возвращаться статус код 404 (Не найдено).

### 4. SQL инъекция

На всех конечных точках (endpoint'ах) с вводом работают SQL инъекции.
Например, при попытке аутентификации на /user/auth, если использовать SQL инъекцию, пример: "' OR 1=1-- 6", возвращается статус код 200 - ОК, т.е. возможна авторизация без валидной комбинации имени пользователя и пароля. 

### 5. Наличие недокументированных ошибок в автосгенерированной документации OpenAPI

Например, при поиске [аккаунта] пользователя с несуществующимм id на /user/get/id/{id} возвращается статус код 404 (Не найдено), при этом его нет в списке ожидаемых ответов (ожидаются 200, 422)

